# üöÄ MiniOS Changelog

## üìå Version 1.1 (Released December 13, 2025)
*‚Üê Previous Version: 1.0*

---

### ‚ú® **New Features**

#### **Modern Text Editor with Keyboard Shortcuts**  
- Completely redesigned text editor with intuitive keyboard shortcuts
- **Ctrl+S** - Save file and exit editor
- **Ctrl+Q** - Quit without saving (no confirmation)
- Real-time visual feedback during editing
- Clean, distraction-free editing experience
- No modal system needed - just type and save!

#### **Linux-Style Boot Messages**  
- Added professional boot screen with **4-second delay** before entering the system  
- Initialization steps display real-time status (keyboard, filesystem, services)  
- Clean separation between boot process and main OS interface  
- Color-coded status indicators (OK/FAIL)

#### **Enhanced Visual Consistency**  
- Fixed overlapping text between welcome screen and shell prompt  
- Improved `clear` command behavior to fully restore original welcome screen  
- Optimized cursor positioning logic for seamless transitions

---

### üêû **Bug Fixes**

#### **Text Editor Issues (Critical)**  
- **FIXED**: Unable to exit text editor - now uses simple Ctrl+S and Ctrl+Q shortcuts
- **FIXED**: Command detection logic that prevented proper file saving
- Eliminated confusion with complex command syntax

#### **Display Corruption**  
- Resolved text overlap issues when switching between boot messages and shell interface  
- Fixed truncated welcome screen after executing `clear` command  
- Corrected shell prompt alignment after boot sequence and screen clearing  
- Eliminated stray characters in filesystem operations

#### **Cursor Positioning**  
- Fixed backspace behavior in text editor when deleting newlines  
- Improved cursor tracking across multi-line edits

---

### ‚öôÔ∏è **Technical Improvements**

#### **Simplified Editor Architecture**  
- Direct keyboard shortcut handling using scan codes
- Ctrl+S (scan code 0x1F + Ctrl flag) for save
- Ctrl+Q (scan code 0x10 + Ctrl flag) for quit
- No mode switching overhead - better performance

#### **Modular Boot Process**  
- Boot messages now fully isolated from main OS logic (no shared VGA state)  
- Added accurate 4-second delay using CMOS real-time clock (CPU speed independent)

#### **Backward Compatibility**  
- All user commands (`ls`, `cat`, `tree`, etc.) retain original behavior  
- Filesystem structure and core APIs remain unchanged

---

### üìã **How to Use**

**Boot Process**:  
```
Booting MiniOS...
Initializing keyboard... [OK]
Initializing filesystem... [OK]
Starting system services... [OK]

Booting will continue in 4 seconds...
```
*(Screen automatically clears after 4 seconds)*

**System Interface**:
```
================================
     Welcome to MiniOS v1.1     
================================
Type 'help' for available commands

minios:/$ 
```

**Text Editor Usage**:
```bash
minios:/$ write myfile.txt
# Type your content normally...
# Press Ctrl+S to save and exit
# Press Ctrl+Q to quit without saving
```

---

### ‚ö†Ô∏è **Upgrade Notes**
- **No configuration changes required** ‚Äì Fully compatible with existing workflows  
- **Recommended for all users** ‚Äì Critical text editor fixes improve usability  
- **Editor shortcuts changed**: Old `:wq` style replaced with Ctrl+S/Ctrl+Q
- **Binary size increase**: ~1.0KB (boot messages + improved editor logic)

---

### üîú **Next Target (v1.2)**
- File loading in text editor (edit existing files)
- Undo/redo functionality in editor (Ctrl+Z / Ctrl+Y)
- Arrow key navigation in text editor
- CPU usage monitoring in prompt  
- `neofetch`-style system info command  
- Boot message customization via config file

---

## üìå Version 1.0 (Initial Release - December 2025)
*First stable release of MiniOS*

---

### üéØ **Core Features**

#### **Operating System Fundamentals**
- Custom x86 bootloader with protected mode transition
- VGA text mode driver (80x25 characters, 16 colors)
- PS/2 keyboard driver with full ASCII support
- In-memory filesystem (64 files/directories, 4KB per file)
- Interactive command-line shell

#### **Filesystem Operations**
- Hierarchical directory structure with root (`/`)
- File and directory creation/deletion
- Path resolution and navigation
- Data persistence during runtime (in-memory)

#### **Shell Commands**
Implemented 13 essential commands:
- `help` - Display available commands
- `clear` - Clear screen and show welcome message
- `ls` - List directory contents with color coding
- `pwd` - Print current working directory
- `cd <path>` - Change directory (supports `..` and `/`)
- `mkdir <name>` - Create new directory
- `touch <file>` - Create empty file
- `cat <file>` - Display file contents
- `echo <text> > <file>` - Write text to file
- `write <file>` - Interactive text editor
- `rm <name>` - Remove file or empty directory
- `tree` - Display directory tree structure
- `info` - Show system information
- `reboot` - Reboot the system

#### **Text Editor**
- Basic multi-line text editor
- Real-time character input with VGA output
- Backspace support (single character deletion)
- Save and exit command (early implementation)
- Exit without saving command

#### **User Interface**
- Color-coded shell prompt showing current path
- Colored output for files (grey) and directories (blue)
- Professional welcome screen on boot
- File size display in directory listings
- Scrolling support when screen fills up

---

### üèóÔ∏è **Technical Architecture**

#### **Boot Process**
- 512-byte MBR bootloader (`boot.asm`)
- Kernel loaded from disk sectors 2-21 (~20 sectors)
- Protected mode with GDT configuration
- Stack setup at `0x9FC00`

#### **Memory Layout**
```
0x0000_0000 - 0x0000_0500: BIOS/IVT
0x0000_7C00 - 0x0000_7E00: Bootloader (512 bytes)
0x0000_1000 - 0x0000_XXXX: Kernel code/data
0x0009_FC00: Stack top
0x000B_8000: VGA text memory
```

#### **Driver Implementation**
- **VGA Driver**: Direct memory-mapped I/O to `0xB8000`
- **Keyboard Driver**: Port I/O (`0x60` data, `0x64` status)
- **Cursor Control**: VGA CRTC ports (`0x3D4`, `0x3D5`)

#### **Filesystem Design**
- Static inode array (64 entries max)
- Tree-based directory structure
- Parent/child pointer navigation
- In-memory data storage (no disk persistence)

---

### üì¶ **Build System**

#### **Tools & Dependencies**
- NASM assembler for bootloader and kernel entry
- GCC with `-m32` for 32-bit compilation
- GNU LD for binary linking
- QEMU for testing and emulation

#### **Compiler Flags**
```makefile
-m32                    # 32-bit target
-ffreestanding          # No standard library
-fno-builtin           # No built-in functions
-nostdlib -nostdinc    # No standard includes
-O2                    # Optimization level 2
-fno-stack-protector   # Disable stack canaries
```

#### **Makefile Targets**
- `make` or `make all` - Build OS image
- `make run` - Build and run in QEMU
- `make debug` - Build with GDB support
- `make clean` - Remove build artifacts

---

### üìä **System Specifications**

| Component | Specification |
|-----------|---------------|
| **Architecture** | x86 (32-bit protected mode) |
| **Memory** | 64 MB (QEMU default) |
| **Display** | VGA text mode 80x25 |
| **Colors** | 16 foreground + 16 background |
| **Filesystem** | In-memory, max 64 files |
| **File Size Limit** | 4096 bytes per file |
| **Boot Time** | < 1 second |
| **Binary Size** | ~15-20 KB |

---

### üé® **Color Scheme**

- **Prompt**: Green username, blue path, white separators
- **Directories**: Light blue with trailing `/`
- **Files**: Light grey with size indicator
- **Errors**: Light red messages
- **Success**: Light green confirmations
- **System Info**: Light cyan headers
- **Editor Text**: Yellow for visibility

---

### üîß **Known Limitations (v1.0)**

#### **Filesystem**
- No disk persistence (data lost on reboot)
- Maximum 64 files/directories total
- File size limited to 4KB
- Cannot move/rename files
- No permissions system

#### **Text Editor**
- ‚ö†Ô∏è **Exit commands unreliable and confusing** (FIXED in v1.1 with Ctrl+S/Ctrl+Q)
- No syntax highlighting
- No line numbers
- Cannot load existing file content for editing
- No undo/redo
- Backspace only deletes single characters

#### **Shell**
- No command history
- No tab completion
- No piping or redirection (except `echo >`)
- No background processes
- No environment variables

#### **Display**
- Fixed 80x25 resolution
- No graphics mode
- No mouse support
- No scrollback buffer

---

### üèÜ **Achievements**

- ‚úÖ Fully functional 32-bit operating system from scratch
- ‚úÖ Boots on real hardware (tested on QEMU)
- ‚úÖ No external dependencies (pure x86 assembly + C)
- ‚úÖ Complete UNIX-like filesystem abstraction
- ‚úÖ Interactive shell with 13 working commands
- ‚úÖ Real-time text editing capabilities
- ‚úÖ Professional boot sequence and UI
- ‚úÖ Clean, maintainable codebase (~2000 lines)

---

### üìö **Documentation**

Included files:
- `README.md` - Project overview and setup
---

### üôè **Acknowledgments**

Built with inspiration from:
- OSDev Wiki community
- Linux kernel design principles
- MINIX educational operating system
- xv6 teaching OS (MIT)

---

### üìú **License**

MiniOS v1.0 is released under MIT License.  
Free to use, modify, and distribute.

---

> *‚Äî Davanico (GitHub: danko1122)*  
> ***MiniOS: Simple. Efficient. Yours.***

---

## üó∫Ô∏è Version History Summary

| Version | Release Date | Key Changes | Status |
|---------|-------------|-------------|--------|
| **1.1** | Dec 13, 2025 | Ctrl shortcuts, boot messages, bug fixes | **Current** |
| **1.0** | Dec 2025 | Initial stable release | Stable |

---

*For bug reports and feature requests, visit: https://github.com/danko1122/minios*
